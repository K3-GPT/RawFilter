# 📂RAW格式筛选器

一个用于快速筛选RAW格式与JPG格式图片对的Python工具，帮助用户高效整理和管理摄影素材。

Python License Platform

## ✨ 项目特色

- **🎯 数据安全**：确保操作可逆，保护用户原始数据安全。
- **🗑️ 智能废片处理**：内置“回收站”功能，去除的疑似废片统一存放，由用户决定是否永久删除。
- **📂 文件分类管理**：自动将文件按“完整”与“单个”分类，方便用户管理。
- **🎨 交互优化**：提供弹窗让用户选择处理RAW或JPG格式，提升用户体验。
- **🎨 界面优化**：优化按钮布局与窗口弹出逻辑，界面更美观协调。
- **🔧 代码优化**：模块化设计，减少重复代码，提高可读性与可维护性。

## 📚 功能总览

### 🗑️ 去除废片

- **回收站功能**：将被判定为废片的文件（例如，仅有JPG而无对应RAW的文件）移动到独立的“回收站”文件夹，避免直接删除造成数据丢失。
- **分类功能**：
    - **`完整`文件夹**：存放同时拥有RAW和JPG格式的文件对。
    - **`单个`文件夹**：存放只有单一格式（RAW或JPG）的文件，供用户复审。

**逻辑**：
1.  遍历指定目录下的所有文件。
2.  基于文件名（不含扩展名）对文件进行归类。
3.  若一个文件名同时对应RAW和JPG两种格式的文件，则判定为“完整”文件，移动到“完整”文件夹。
4.  若一个文件名仅对应单一格式（JPG或RAW），则判定为“单个”文件，移动到“单个”文件夹。

### 🎨 筛选精修

- **兼容性**：允许目录中存在除RAW和JPG格式外的其他文件，程序仅处理目标格式。
- **多RAW格式支持**：能够正确处理多种RAW格式文件（如.CR3, .NEF, .ARW等）与JPG的匹配。
- **交互优化**：增加弹窗，让用户选择是筛选并复制RAW文件还是JPG文件到目标文件夹。
- **界面优化**：改进按钮布局和窗口弹出逻辑，提升UI/UX。

## 🔧 详细功能描述

### 1️⃣ 数据保留 (`Recycle Bin`)

- **目的**：防止误删重要文件。
- **实现**：被筛选逻辑识别为“单个”或“疑似废片”的文件不会被直接删除，而是移动到名为“回收站”的指定文件夹。

### 2️⃣ 文件分类 (`Categorize Files`)

- **目的**：便于用户管理不同状态的图片。
- **`完整`文件夹**：
    - **定义**：包含RAW和JPG两种格式的图片文件对。
    - **逻辑**：文件名相同但扩展名不同的RAW和JPG文件视为一对，移动至此文件夹。
- **`单个`文件夹**：
    - **定义**：只有RAW或只有JPG格式的图片文件。
    - **逻辑**：无法匹配成对的文件移动至此文件夹，供用户检查是否漏选或错选。

### 3️⃣ 格式选择 (`Ask Format Choice`)

- **目的**：提升用户操作的灵活性。
- **实现**：在执行筛选操作前，弹出一个窗口让用户选择是处理RAW格式还是JPG格式的文件。
- **逻辑**：
    - 弹窗出现，用户选择“RAW”或“JPG”。
    - 程序根据用户选择，将“完整”文件夹中对应格式的文件复制到最终的目标文件夹。
    - 操作完成后弹出提示框告知用户。

### 4️⃣ 代码与界面优化

- **模块化**：将核心功能（如移动到回收站、文件分类、格式选择）封装成独立函数，如 `move_to_recycle_bin()`, `categorize_files()`, `ask_format_choice()`。
- **减少重复**：避免代码冗余。
- **变量命名优化**：如使用 `filename_counts` (或类似更准确的命名) 来存储文件路径映射，逻辑更清晰。
- **统一后缀处理**：将文件扩展名统一转换为大写（如 `.upper()`），避免 `.jpg` 与 `.JPG` 等大小写导致的匹配问题。
- **UI改进**：计算按钮居中位置，使界面布局更美观；设置弹窗为模态窗口，防止误操作。

## 💡 使用场景

- **摄影师整理素材**：快速分离出同时有RAW和JPG的图片对，以及需要复审的单个文件。
- **数据备份前筛选**：在备份前，将确定需要的图片对备份，将疑似问题文件放入回收站检查。
- **工作流程优化**：将繁琐的手动分类过程自动化，节省时间。

## 📁 项目结构

```
RAW筛选器/
├── main.py          
├── Rademe.md        
├── requirements.txt 
├── RAW-5(终版).exe  
├── RAW-5(终版).py   
├── RAW-6(终版注释).py 
├── 用前必看！.txt   
├── 开发文档.md     
├── 完整/           
├── 单个/          
└── 回收站/        
```

## 📄 许可证

 Apache 2.0 

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📞 联系方式

- 项目主页:[K3-GPT/RawFilter: 用于raw原图和jpg的快速筛选 (github.com)](https://github.com/K3-GPT/RawFilter#)
- 邮箱: verus_amor@qq.com

---

# **感谢使用 RAW格式筛选器！ 🎉**
